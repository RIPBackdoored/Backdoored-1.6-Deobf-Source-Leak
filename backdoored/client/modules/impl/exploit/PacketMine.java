package f.b.o.g.exploit;

import f.b.o.g.*;
import net.minecraftforge.client.event.*;
import f.b.*;
import net.minecraft.network.play.client.*;
import net.minecraft.util.*;
import net.minecraft.network.*;
import net.minecraft.entity.player.*;
import net.minecraft.util.math.*;
import net.minecraftforge.fml.common.eventhandler.*;

@c$b(name = "PacketMine", description = "Click blocks to mine them invisibly", category = f.b.o.c.c.EXPLOIT)
public class PacketMine extends c
{
    public PacketMine() {
        super();
    }
    
    @SubscribeEvent
    public void b(final MouseEvent v) {
        if (!this.bu()) {
            return;
        }
        if (v.getButton() == 0 && PacketMine.mc.objectMouseOver.entityHit == null) {
            final BlockPos v2 = PacketMine.mc.objectMouseOver.getBlockPos();
            p.bk().sendPacket((Packet)new CPacketPlayerDigging(CPacketPlayerDigging.Action.START_DESTROY_BLOCK, v2, EnumFacing.UP));
            p.bk().sendPacket((Packet)new CPacketPlayerDigging(CPacketPlayerDigging.Action.STOP_DESTROY_BLOCK, v2, EnumFacing.UP));
            v.setCanceled(true);
        }
        if (v.getButton() == 0 && PacketMine.mc.objectMouseOver.entityHit != null) {
            PacketMine.mc.playerController.attackEntity((EntityPlayer)PacketMine.mc.player, PacketMine.mc.objectMouseOver.entityHit);
            v.setCanceled(true);
        }
    }
}
