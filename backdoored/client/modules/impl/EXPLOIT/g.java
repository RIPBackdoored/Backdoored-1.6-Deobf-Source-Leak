package f.b.o.g.d;

import f.b.o.g.*;
import f.b.a.*;
import net.minecraft.network.play.client.*;
import java.time.*;
import java.time.temporal.*;
import net.minecraftforge.fml.common.eventhandler.*;

@c$b(name = "Ping Spoof", description = "Spoof your ping retard", category = f.b.o.c.c.EXPLOIT)
public class g extends c
{
    private f.b.f.c sg;
    private Instant sr;
    
    public g() {
        super();
        this.sg = new f.b.f.c("Delay", this, 20, 1, 300);
        this.sr = Instant.now();
    }
    
    @SubscribeEvent
    public void b(final q v) {
        if (v.packet instanceof CPacketKeepAlive && this.bu()) {
            final Instant v2 = Instant.now();
            if (Duration.between(this.sr, v2).getSeconds() >= this.sg.cp() / 10.0f) {
                this.sr = Instant.now();
                v.setCanceled(false);
            }
            else {
                v.setCanceled(true);
            }
        }
    }
}
