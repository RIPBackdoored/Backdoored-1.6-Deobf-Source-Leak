package f.b.o.g.d;

import f.b.o.g.*;
import net.minecraftforge.client.event.*;
import net.minecraft.block.*;
import net.minecraft.init.*;
import net.minecraft.tileentity.*;
import net.minecraft.world.*;
import f.b.q.c.*;
import net.minecraft.util.math.*;
import net.minecraftforge.fml.common.eventhandler.*;

@c$b(name = "Secret Open", description = "Open a view-only copy of chests or shulkers", category = f.b.o.c.c.EXPLOIT)
public class q extends c
{
    public q() {
        super();
    }
    
    @SubscribeEvent
    public void g(final MouseEvent v) {
        if (!this.bu() || v.getButton() != 1) {
            return;
        }
        final BlockPos v2 = q.mc.objectMouseOver.getBlockPos().offset(q.mc.objectMouseOver.sideHit);
        for (int v3 = 219; v3 <= 234; ++v3) {
            if (q.mc.world.getBlockState(v2).getBlock().equals(Block.getBlockById(v3))) {
                break;
            }
            if (q.mc.world.getBlockState(v2).getBlock().equals(Blocks.CHEST)) {
                break;
            }
            if (q.mc.world.getBlockState(v2).getBlock().equals(Blocks.ENDER_CHEST)) {
                break;
            }
            if (q.mc.world.getBlockState(v2).getBlock().equals(Blocks.TRAPPED_CHEST)) {
                break;
            }
            if (v3 == 234) {
                return;
            }
        }
        v.setCanceled(true);
        final TileEntityShulkerBox v4 = new TileEntityShulkerBox();
        v4.setWorld((World)q.mc.world);
        v4.readFromNBT(q.mc.world.getTileEntity(v2).getTileData().getCompoundTag("BlockEntityTag"));
        o.bn(q.mc.world.getTileEntity(v2).getTileData().getCompoundTag("BlockEntityTag").toString());
    }
}
